---
name: "subagent-creator"
description: "专门用于生成子智能体的 skill，通过交互式问答收集信息并生成标准化的子智能体配置文档"
---

# Subagent Creator

此 skill 帮助用户创建子智能体（Subagent）配置文档。通过交互式问答流程收集所有必要信息，最终生成标准化的 `subagent.md` 文件。

## 何时使用

当用户需要：
- 创建新的子智能体
- 定义子智能体的角色、场景和能力
- 管理子智能体配置

## 核心能力

1. **交互式信息收集**：通过问答形式逐步收集子智能体的各项配置信息
2. **标准化文档生成**：生成格式统一的 `subagent.md` 配置文件
3. **索引维护**：自动更新 `subagents-master/index.md` 索引文件，列出所有子智能体

## 子智能体配置项

每个子智能体包含以下六个部分：

| 配置项 | 必填 | 说明 |
|--------|------|------|
| 名称 | ✅ | 子智能体的唯一标识名称 |
| 描述 | ✅ | 简要描述子智能体的用途和功能 |
| 场景提示词 | ✅ | 子智能体的系统预设指令，定义其角色、行为和专业能力 |
| 工具 | ❌ | 子智能体可使用的工具名称列表 |
| MCP | ❌ | 子智能体可使用的 MCP Server 名称列表 |
| 知识库 | ❌ | 子智能体可关联的知识库名称列表 |

## 交互流程

**重要**：在调用此 skill 时，必须按照以下流程逐一向用户询问，直到所有必填项都已收集，可选项也已确认后，才能生成文档。

### 第一步：询问名称（必填）
```
请输入子智能体的名称（唯一标识，建议使用英文，如 code-reviewer）：
```

### 第二步：询问描述（必填）
```
请输入子智能体的描述（简要说明其用途和功能）：
```

### 第三步：询问场景提示词（必填）
```
请输入子智能体的场景提示词（系统预设指令，定义其角色、行为和专业能力）：

提示：设置场景提示词后，智能体将根据这些预设指令更准确地理解开发需求，并以设定的方式协助完成开发任务。
```

### 第四步：询问工具（可选）
```
请输入子智能体可使用的工具名称（多个用逗号分隔，如无可直接回车跳过）：
```

### 第五步：询问 MCP（可选）
```
请输入子智能体可使用的 MCP Server 名称（多个用逗号分隔，如无可直接回车跳过）：
```

### 第六步：询问知识库（可选）
```
请输入子智能体可关联的知识库名称（多个用逗号分隔，如无可直接回车跳过）：
```

### 第七步：确认信息
在生成文档前，必须向用户展示所有收集到的信息，请求最终确认：

```
请确认以下子智能体配置信息：

【名称】：xxx
【描述】：xxx
【场景提示词】：xxx
【工具】：xxx（或"无"）
【MCP】：xxx（或"无"）
【知识库】：xxx（或"无"）

确认无误请输入 "确认"，如需修改请告知需要修改的项目。
```

### 第八步：生成文档
用户确认后，执行脚本生成子智能体文档。

## 使用方法

### 创建子智能体

```bash
python3 scripts/create_subagent.py \
  --name <subagent-name> \
  --description "<描述>" \
  --prompt "<场景提示词>" \
  [--tools "<工具1,工具2>"] \
  [--mcp "<mcp1,mcp2>"] \
  [--knowledge "<知识库1,知识库2>"]
```

**参数说明：**
- `--name`：子智能体名称（必填）
- `--description`：子智能体描述（必填）
- `--prompt`：场景提示词（必填）
- `--tools`：工具名称列表，逗号分隔（可选）
- `--mcp`：MCP Server 名称列表，逗号分隔（可选）
- `--knowledge`：知识库名称列表，逗号分隔（可选）

### 示例

用户："我想创建一个代码审查的子智能体"

Agent 按流程询问后收集到：
- 名称：code-reviewer
- 描述：专注于代码审查的子智能体，帮助发现代码问题并提供改进建议
- 场景提示词：你是一个专业的代码审查专家...
- 工具：无
- MCP：无
- 知识库：无

执行：
```bash
python3 scripts/create_subagent.py \
  --name code-reviewer \
  --description "专注于代码审查的子智能体，帮助发现代码问题并提供改进建议" \
  --prompt "你是一个专业的代码审查专家..."
```

## Agent 辅助说明

- **路径解析**：脚本位于 `scripts/` 目录，需要确定 skill 的安装位置并拼接正确路径
- **目标目录**：子智能体将创建在项目根目录下的 `subagents-master/<subagent-name>/` 目录中
- **索引文件**：每次创建/更新子智能体后，会自动更新 `subagents-master/index.md`
- **完整流程**：必须按照交互流程逐一询问，直到用户确认后才能执行脚本
- **确认机制**：生成前必须让用户确认所有信息，如有修改需求则重新收集对应项

## 目录结构

```
项目根目录/
└── subagents-master/
    ├── index.md                 # 索引文件，列出所有子智能体
    ├── subagent-A/
    │   └── subagent.md
    ├── subagent-B/
    │   └── subagent.md
    └── ...
```
