# Subagents Master 模块

> 模块详情文档，帮助 AI 理解模块的职责和实现细节。
> 文档大小限制：< 10KB

---

## 模块职责（Responsibility）

<!-- AUTO_SYNC_START -->

### 核心职责

子智能体管理系统，提供专用子智能体的配置、存储和索引管理。子智能体是具有特定专业能力的 AI 助手，可被主 Agent 调用来处理特定领域的任务。

### 模块边界

- **负责**：
  - 存储和管理所有子智能体配置文件
  - 提供子智能体的索引和查找
  - 定义子智能体的配置规范（名称、描述、场景提示词、工具、MCP、知识库）
  - 维护子智能体列表文档
  
- **不负责**：
  - 子智能体的创建逻辑（由 `subagent-creator` 技能负责）
  - 子智能体的运行时调用（由主 Agent 负责）
  - 子智能体的实际执行能力（由 AI 引擎负责）

<!-- AUTO_SYNC_END -->

---

## 文件结构（File Structure）

<!-- AUTO_SYNC_START -->

```
subagents-master/
├── README.md                    # 模块索引文档，列出所有子智能体
├── _AI_CONTEXT.md              # 本文档，模块详情说明
└── code-mysql-converter/       # 代码-MySQL 转换器子智能体
    └── subagent.md             # 子智能体配置文档
```

### 文件说明

| 文件 | 职责 | 重要程度 |
|-----|-----|---------|
| `README.md` | 子智能体索引，提供快速查找和概览 | ⭐⭐⭐ |
| `_AI_CONTEXT.md` | 模块详情文档，说明子智能体系统的设计和使用 | ⭐⭐⭐ |
| `code-mysql-converter/subagent.md` | 示例子智能体配置 | ⭐⭐ |

<!-- AUTO_SYNC_END -->

---

## 子智能体配置规范（Subagent Specification）

<!-- AUTO_SYNC_START -->

### 配置文件结构

每个子智能体都有独立目录，包含一个 `subagent.md` 配置文件。

### 必需字段

| 字段 | 说明 | 示例 |
|-----|-----|-----|
| **名称** | 子智能体的唯一标识 | `code-mysql-converter` |
| **描述** | 功能和用途的简要说明 | "专门用于代码逻辑与 MySQL 语句互转的智能体" |
| **场景提示词** | 定义角色、行为和专业能力 | 详细的角色设定和工作流程 |

### 可选字段

| 字段 | 说明 | 示例 |
|-----|-----|-----|
| **工具** | 可使用的内置工具名称 | `read_file, terminal` |
| **MCP** | 可使用的 MCP Server 名称 | `database, api-client` |
| **知识库** | 可关联的知识库名称 | `mysql-docs, coding-standards` |

<!-- AUTO_SYNC_END -->

---

## 现有子智能体列表（Existing Subagents）

<!-- AUTO_SYNC_START -->

| 名称 | 描述 | 核心能力 | 路径 |
|------|------|---------|------|
| `code-mysql-converter` | 代码逻辑与 MySQL 语句互转 | 代码→MySQL、MySQL→代码双向转换 | `./code-mysql-converter/` |

<!-- AUTO_SYNC_END -->

---

## 依赖关系（Dependencies）

<!-- AUTO_SYNC_START -->

### 内部依赖（本项目模块）

| 依赖模块 | 用途 | 关键接口 |
|---------|-----|---------|
| 无 | 本模块为纯配置存储，不依赖其他模块 | - |

### 外部依赖（第三方库）

| 依赖名称 | 版本 | 用途 |
|---------|-----|-----|
| 无 | - | 纯 Markdown 配置，无外部依赖 |

### 被依赖情况

本模块被以下模块依赖：
- **subagent-creator 技能**：创建新子智能体时，会在本目录下生成配置文件
- **主 Agent**：运行时读取子智能体配置，调用专用智能体处理任务

<!-- AUTO_SYNC_END -->

---

## 常见操作指南（Common Operations）

<!-- MANUAL_START -->

### 如何创建新的子智能体

1. **使用 subagent-creator 技能**（推荐）：
   ```
   请使用 subagent-creator 技能帮我创建一个新的子智能体
   ```
   
2. **手动创建**：
   - 在 `subagents-master/` 下创建新目录（使用 kebab-case 命名）
   - 创建 `subagent.md` 文件
   - 按照配置规范填写必需字段和可选字段
   - 在 `README.md` 中添加索引条目

### 如何修改现有子智能体

1. 打开对应子智能体目录下的 `subagent.md` 文件
2. 修改相应字段（名称、描述、场景提示词等）
3. 保存文件后，子智能体配置即时生效
4. 如果修改了名称或描述，记得同步更新 `README.md`

### 如何调用子智能体

在与主 Agent 对话时，直接提及子智能体的名称或功能：

```
请使用 code-mysql-converter 子智能体，帮我将这段代码转换为 MySQL 语句
```

或者：

```
请帮我把这个 MySQL 查询转换为 Python 代码
```

主 Agent 会自动识别并调用合适的子智能体。

### 注意事项

- ⚠️ 子智能体名称必须唯一，使用 kebab-case 命名规范
- ⚠️ 场景提示词要详细具体，这直接影响子智能体的执行效果
- ⚠️ 修改配置后无需重启，但建议测试验证功能是否符合预期
- ⚠️ 每个子智能体应专注于单一领域，避免职责过于宽泛

<!-- MANUAL_END -->

---

## 代码示例（Code Examples）

<!-- MANUAL_START -->

### 子智能体配置示例

```markdown
# my-subagent

## 名称

my-subagent

## 描述

这是一个示例子智能体，用于演示配置格式。

## 场景提示词

你是一个专业的 XXX 专家，擅长 YYY。

### 核心能力
1. 能力 1
2. 能力 2

### 工作流程
1. 步骤 1
2. 步骤 2

### 输出要求
- 要求 1
- 要求 2

## 工具

read_file, grep_search

## MCP

database

## 知识库

project-docs
```

### 在 README.md 中添加索引

```markdown
| [my-subagent](./my-subagent/subagent.md) | 示例子智能体描述 | `./my-subagent/` |
```

<!-- MANUAL_END -->

---

## 设计理念（Design Philosophy）

<!-- MANUAL_START -->

### 为什么需要子智能体？

1. **专业化分工**：不同领域需要不同的专业知识和提示词策略
2. **上下文隔离**：避免主 Agent 的上下文过于复杂，提高响应质量
3. **可复用性**：子智能体可以在不同项目中重复使用
4. **可维护性**：集中管理专业提示词，便于优化和迭代

### 子智能体 vs Skill 的区别

| 维度 | 子智能体 (Subagent) | 技能 (Skill) |
|-----|-------------------|-------------|
| **定位** | 专业 AI 助手 | 自动化工作流 |
| **核心** | 场景提示词 | 指令 + 脚本 |
| **调用方式** | 主 Agent 委派 | 用户直接调用 |
| **适用场景** | 需要 AI 推理的复杂任务 | 可自动化的标准流程 |

### 最佳实践

- ✅ 每个子智能体专注于单一领域（如代码转换、需求分析）
- ✅ 场景提示词要包含角色定位、核心能力、工作流程、输出要求
- ✅ 使用交互式确认机制，确保理解用户需求
- ✅ 提供清晰的使用示例和注意事项
- ❌ 避免创建功能重叠的子智能体
- ❌ 避免场景提示词过于简单或模糊

<!-- MANUAL_END -->

---

## 已知问题与限制（Known Issues & Limitations）

<!-- MANUAL_START -->

### 当前限制

- 限制 1：子智能体数量较少，仅有 1 个示例
- 限制 2：缺少子智能体的自动化测试机制
- 限制 3：子智能体之间无法相互调用（需要通过主 Agent 中转）

### 待改进项

- [ ] 增加更多领域的子智能体（如前端开发、测试、文档生成等）
- [ ] 建立子智能体的效果评估机制
- [ ] 支持子智能体版本管理和回滚
- [ ] 提供子智能体的使用统计和分析

<!-- MANUAL_END -->

---

## 变更历史（Change History）

<!-- AUTO_SYNC_START -->

| 日期 | 变更类型 | 说明 |
|-----|---------|-----|
| 2026-02-04 | 新增 | 创建模块上下文文档 |
| 2026-02-04 | 新增 | 添加子智能体配置规范说明 |

<!-- AUTO_SYNC_END -->

---

> 📅 本文档由 AI Context Sync Skill 生成  
> 🔄 AUTO_SYNC 区域会在代码变更时自动更新  
> ✏️ MANUAL 区域供人工编辑，不会被自动覆盖
