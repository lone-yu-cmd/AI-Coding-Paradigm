# 项目结构规范

> 本文档定义 AI Context 框架的文件组织结构和命名规范。

---

## 文件分布示意

```
project-root/
├── docs/
│   └── AI_CONTEXT/
│       ├── _RULES.md          # AI 行为协议（原 CLAUDE.md）
│       └── MAP.md             # 项目导航索引
│
├── src/
│   ├── _AI_CONTEXT.md         # src 模块文档
│   ├── auth/
│   │   ├── _AI_CONTEXT.md     # auth 模块文档
│   │   ├── login.py
│   │   └── session.py
│   ├── payment/
│   │   ├── _AI_CONTEXT.md     # payment 模块文档
│   │   ├── processor.py
│   │   └── billing.py
│   └── utils/
│       ├── _AI_CONTEXT.md     # utils 模块文档
│       └── helpers.py
│
├── tests/
│   ├── _AI_CONTEXT.md         # tests 模块文档
│   └── test_auth.py
│
└── scripts/
    ├── _AI_CONTEXT.md         # scripts 模块文档
    ├── init_ai_context.py
    └── doc_maintainer.py
```

---

## 命名规范

### 模块文档命名

- **文件名**: `_AI_CONTEXT.md`（下划线前缀，排在目录最前）
- **位置**: 与代码文件同级目录

### 何时创建模块文档

**需要创建**:
- ✅ 核心业务模块
- ✅ 被多个模块依赖的基础模块
- ✅ 复杂度较高的模块

**不需要创建**:
- ❌ 简单的配置目录
- ❌ 纯静态资源目录
- ❌ 测试数据目录
- ❌ 第三方代码目录

---

## 技术约束

### 开发约束
- **Python 版本**: 3.6+（仅使用标准库）
- **跨平台**: macOS/Linux/Windows
- **性能**: Git hook 执行应在 5 秒内完成

### 文档约束
- **格式**: Markdown
- **大小**: MAP.md < 20KB，_AI_CONTEXT.md < 10KB
- **命名**: `_AI_CONTEXT.md`（下划线前缀，便于排序）

### Git 约束
- **非侵入**: 文档更新失败不应阻断 commit
- **原子性**: 文档更新应与代码变更在同一 commit
- **可选**: 可通过配置禁用自动更新
